function getIEVersion(){var i=-1,n,t;return navigator.appName=="Microsoft Internet Explorer"?(n=navigator.userAgent,t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"),t.exec(n)!=null&&(i=parseFloat(RegExp.$1))):navigator.appName=="Netscape"&&(n=navigator.userAgent,t=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),t.exec(n)!=null&&(i=parseFloat(RegExp.$1))),i}(function(n){n.window=function(t){return n.Window.getInstance(null,t)};n.fn.window=function(t){return n.Window.getInstance(n(this),t)};n.Window=function(){function d(n,t){n==null?(c!=null&&c!=t?(c.unselect(),t.select()):c==null&&t.select(),c=t):(n.get(0)._lastSelectedWindow!=null&&n.get(0)._lastSelectedWindow!=t?(n.get(0)._lastSelectedWindow.unselect(),t.select()):n.get(0)._lastSelectedWindow==null&&t.select(),n.get(0)._lastSelectedWindow=t)}function ut(n){for(var r,t=0,u=i.length;t<u;t++)if(r=i[t],r.getWindowId()==n)return r}function ft(n){i.push(n)}function et(n){for(var u,t=0,r=i.length;t<r;t++)if(u=i[t],u==n){i.splice(t--,1);break}}function ot(i,r){t.dockArea!=null&&(i=n(t.dockArea));i!=null?i.get(0)._minWinData.storage.push(r):u.storage.push(r)}function st(i,r){var s=!1,e,f,o;for(i=t.dockArea!=null?n(t.dockArea):i,e=i!=null?i.get(0)._minWinData.storage:u.storage,f=0;f<e.length;f++){if(o=e[f],o==r){e.splice(f--,1);s=!0;continue}s&&o._decreaseMiniIndex()}}function g(i){i=t.dockArea!=null?n(t.dockArea):i;var r=i!=null?i.get(0)._minWinData.storage:u.storage;return r.length}function nt(i,r){var f=null,o=null,s;t.dockArea!=null&&(i=n(t.dockArea));i!=null?(f={width:i.innerWidth(),height:i.innerHeight()},o=i.get(0)._minWinData):(f=e(),o=u);s=g(i);t.dock=="left"||t.dock=="right"?r?(s+1)*o.long>f.height&&(o.long=f.height/(s+1),y(i)):o.long<t.minWinLong&&(o.long=s*t.minWinLong<f.height?t.minWinLong:f.height/s):(t.dock=="top"||t.dock=="bottom")&&(r?(s+1)*o.long>f.width&&(o.long=f.width/(s+1),y(i)):o.long<t.minWinLong&&(o.long=s*t.minWinLong<f.width?t.minWinLong:f.width/s))}function y(i){var f,r;for(i=t.dockArea!=null?n(t.dockArea):i,f=i!=null?i.get(0)._minWinData.storage:u.storage,r=0;r<f.length;r++)f[r]._adjustMinimizedPos(!1)}function p(){t.handleScrollbar&&(h.indexOf("msie 7")>=0?n("body").attr("scroll","no"):document.body.style.overflow="hidden")}function w(){t.handleScrollbar&&(h.indexOf("msie 7")>=0?n("body").removeAttr("scroll"):document.body.style.overflow="auto")}function e(){var n=document.documentElement.clientWidth,t=document.documentElement.clientHeight;return{width:n,height:t}}function o(){var n=0,t=0;return typeof pageYOffset=="number"?(t=window.pageYOffset,n=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(t=document.body.scrollTop,n=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(t=document.documentElement.scrollTop,n=document.documentElement.scrollLeft),{left:n,top:t}}function r(n,t){var i=null,r,u,e;return n!=null&&(r=n.css("position")=="absolute",r&&!t?i={left:0,top:0}:(i=n.offset(),u=parseInt(n.css("borderTopWidth")),e=parseInt(n.css("borderLeftWidth")),i.left+=e,i.top+=u),f("start pos: "+i.left+","+i.top)),i}function ht(i,o){var s={},v=e(),h=null,c=t.minWinNarrow,l=u.long,a,y;return t.dockArea!=null?(a={left:0,top:0},i!=null&&(y=i.css("position")=="absolute",y&&(a=r(i,!0))),i=n(t.dockArea),h=r(i,!0),h.left-=a.left,h.top-=a.top,l=i.get(0)._minWinData.long):i!=null&&(h=r(i),l=i.get(0)._minWinData.long),t.dock=="left"||t.dock=="right"?(s.width=c,s.height=l-1,s.top=o*l,t.dock=="left"?i!=null?(s.top+=h.top,s.left=h.left):s.left=0:t.dock=="right"&&(i!=null?(s.top+=h.top,s.left=h.left+i.width()-c-2):s.left=v.width-c)):(t.dock=="top"||t.dock=="bottom")&&(s.width=l-1,s.height=c,s.left=o*l,t.dock=="top"?i!=null?(s.top=h.top,s.left+=h.left):s.top=0:t.dock=="bottom"&&(i!=null?(s.top=h.top+i.height()-c-2,s.left+=h.left):s.top=v.height-c)),f(s),s}function f(n){t.showLog&&window.console!=null&&console.log(n)}function ct(n){window.console!=null&&console.warn(n)}function lt(i,u){function nr(t){var w,e,g,l,p,y,nt,rt,ot,et,h,st;if(b=t,u.showModal&&kt(),w=i!=null?i:n("body"),e=u.showRoundCorner?"ui-corner-all ":"",w.append("<div id='"+pt+"' class='window_panel "+e+u.containerClass+"'><\/div>"),c=w.children("div#"+pt),n.isFunction(u.onOpen))u.onOpen(b);if(at.w=u.width,at.h=u.height,c.width(u.width),c.height(u.height),c.css("z-index",u.z),getIEVersion()>-1&&c.css({paddingRight:1,paddingBottom:1}),u.x>=0||u.y>=0?(g=o(),u.x>=0?(l=0,i!=null?(y=r(i),l=u.x+y.left):l=u.x+g.left,c.css("left",l)):bi(),u.y>=0?(p=0,i!=null?(y=r(i),p=u.y+y.top):p=u.y+g.top,c.css("top",p)):ki()):wi(),nt=c.position(),c.css({left:nt.left,top:nt.top}),u.icon=="auto"&&(u.icon=li()),rt="",u.icon!=null&&(rt="<img class='window_title_icon' src='"+u.icon+"' style='display:none;' onload='javascript:$.Window._iconOnLoad(this);'/>"),e=u.showRoundCorner?"ui-corner-top ":"",ot="<div class='window_header window_header_normal ui-widget-header "+e+"no-resizable "+u.headerClass+"'>"+rt+"<div class='window_title_text'>"+u.title+"<\/div><div class='window_function_bar'><\/div><\/div>",c.append(ot),a=c.children("div.window_header"),ei(),u.maximizable&&a.dblclick(function(){tt?ni():hi()}),v=a.children("div.window_function_bar"),u.closable&&(v.append("<div title='close window' class='closeImg window_icon_button no-draggable'><\/div>"),v.children(".closeImg").click(function(){gi()}),lt+=s),u.maximizable&&(v.append("<div title='maximize window' class='maximizeImg window_icon_button no-draggable'><\/div>"),v.append("<div title='cascade window' class='cascadeImg window_icon_button no-draggable' style='display:none;'><\/div>"),v.children(".maximizeImg").click(function(){hi()}),v.children(".cascadeImg").click(function(){ni()}),lt+=s),u.minimizable&&(v.append("<div title='minimize window' class='minimizeImg window_icon_button no-draggable'><\/div>"),v.children(".minimizeImg").click(function(){di()}),lt+=s),u.bookmarkable&&u.url!=null&&n.trim(u.url)!=""&&(v.append("<div title='bookmark this' class='bookmarkImg window_icon_button no-draggable'><\/div>"),v.children(".bookmarkImg").click(function(){vr(u.title,u.url)}),lt+=s),ar(v),n(".window_icon_button").dblclick(function(){return!1}),ct(),v.width(lt),et=pi(at.h),u.url!=null&&n.trim(u.url)!=""){if(n.isFunction(u.onIframeStart)){f("start connecting iframe: "+u.url);u.onIframeStart(b,u.url)}u.iframeRedirectCheckMsg&&(wt=!0,window.onbeforeunload=function(){if(wt)return u.iframeRedirectCheckMsg.replace("{url}",u.url)});c.append("<div class='frame_loading'>Loading...<\/div>");h=c.children(".frame_loading");h.css("marginLeft","-"+h.outerWidth()/2-20+"px");h.click(function(){h.remove()});st=u.scrollable?"yes":"no";c.append("<iframe style='display:none;' class='window_frame ui-widget-content no-draggable no-resizable "+u.frameClass+"' scrolling='"+st+"' src='"+u.url+"' width='100%' height='"+et+"px' frameborder='0'><\/iframe>");k=c.children(".window_frame");k.ready(function(){k.show()});k.load(function(){if(wt=!1,h.remove(),f("load iframe finished: "+u.url),n.isFunction(u.onIframeEnd))u.onIframeEnd(b,u.url)})}else c.append("<div class='window_frame ui-widget-content no-draggable no-resizable "+u.frameClass+"' style='width:100%; height:"+et+"px;'><\/div>"),k=c.children(".window_frame"),u.content!=null&&(ai(u.content),k.children().show()),k.css({overflow:u.scrollable?"auto":"hidden"});if(u.showFooter?(e=u.showRoundCorner?"ui-corner-bottom ":"",c.append("<div class='window_footer ui-widget-content "+e+"no-draggable no-resizable "+u.footerClass+"'><div><\/div><\/div>"),ft=c.children("div.window_footer"),u.footerContent!=null&&(vi(u.footerContent),ft.children("div").children().show())):(e=u.showRoundCorner?"ui-corner-bottom ":"",k.addClass(e)),c.mousedown(function(){d(i,b)}),u.draggable&&(c.draggable({cancel:".no-draggable",start:function(){if(f("drag start"),(ut||tt)&&(c.css("position","fixed"),c.css(it)),kt(),yt(),u.onDrag)u.onDrag(b)},stop:function(){f("drag stop");(ut||tt)&&(c.css("position","fixed"),c.css(it));dt();gt();u.afterDrag&&u.afterDrag(b)}}),u.checkBoundary&&(u.withinBrowserWindow&&i==null?c.draggable("option","containment","window"):c.draggable("option","containment","parent"))),u.resizable&&(c.resizable({cancel:".no-resizable",alsoResize:k,start:function(){if(f("resize start"),ut||tt)return!1;if(kt(),yt(),u.onResize)u.onResize(b)},stop:function(){if(f("resize stop"),ut||tt)return!1;dt();ct();gt();u.afterResize&&u.afterResize(b)}}),u.checkBoundary,u.maxWidth>=0&&c.resizable("option","maxWidth",u.maxWidth),u.maxHeight>=0&&c.resizable("option","maxHeight",u.maxHeight),u.minWidth>=0&&c.resizable("option","minWidth",u.minWidth),u.minHeight>=0&&c.resizable("option","minHeight",u.minHeight)),n.isFunction(u.onShow))u.onShow(b)}function tr(n){var t=n.match(/:\/\/(.[^/]+)/);return t!=null&&t.length>=2?t[1]:null}function ir(){if(u.icon!=null&&u.icon!=""){var n="<img class='window_title_icon' src='"+u.icon+"' style='display:none;' onload='javascript:$.Window._iconOnLoad(this);'/>";a.prepend(n)}}function ci(n){if(u.icon=n,u.icon=="auto"&&(u.icon=li()),u.icon!=null){var t=a.children(".window_title_icon");t.get(0)!=null?(ei(),t.attr("src",u.icon)):ir()}}function rr(){var n=a.children(".window_title_icon"),t;n.get(0)!=null&&(n.show(),t=a.children(".window_title_text"),t.css("margin-left","0"),fi=20,ct())}function ei(){var n=a.children(".window_title_icon"),t;n.get(0)!=null&&(n.hide(),t=a.children(".window_title_text"),t.css("margin-left","-20px"),fi=0,ct())}function ur(n){u.title=n;a.children(".window_title_text").text(n);ut&&si()}function fr(){return u.title}function er(n){u.url=n;k.attr("src",n);u.icon!=null&&ci("auto")}function li(){if(u.url!=null&&n.trim(u.url)!=""){var t=tr(u.url);if(t!=null)return"http://"+t+"/favicon.ico"}return null}function or(){return u.url}function ai(t){u.content=t;typeof t=="object"?t=n(t).clone(!0):typeof t=="string";k.empty();k.append(t)}function sr(){return k.html()}function vi(t){u.showFooter&&(u.footerContent=t,typeof t=="object"?t=n(t).clone(!0):typeof t=="string",ft.children("div").empty(),ft.children("div").append(t))}function hr(){return ft.children("div").html()}function kt(){var t=n("#window_overlay");t.get(0)==null&&(n("body").append("<div id='window_overlay'>&nbsp;<\/div>"),t=n("#window_overlay"),t.css("z-index",u.z+1));u.showModal?t.css({opacity:u.modalOpacity}):t.css({opacity:0});t.show()}function dt(t){(u.showModal==!1||t)&&n("#window_overlay").hide()}function cr(){var n=c.offset(),t=o();c.css({position:"fixed",left:n.left-t.left,top:n.top-t.top})}function lr(){var n=c.offset();c.css({position:"absolute",left:n.left,top:n.top})}function ar(t){var f,i,r;if(u.custBtns!=null&&typeof u.custBtns=="object")for(f=0;f<u.custBtns.length;f++){if(i=u.custBtns[f],i!=null&&typeof i=="object")if(i.id!=null&&i.callback!=null){var e=i.id!=null?i.id:"",o=i.clazz!=null?i.clazz:"",h=i.title!=null?i.title:"",c=i.style!=null?i.style:"",l=i.image!=null?i.image:"",a=i.callback!=null?i.callback:"";i.image!=null&&i.image!=""?t.append("<img id='"+e+"' src='"+l+"' title='"+h+"' class='"+o+" window_icon_button no-draggable' style='"+c+"'/>"):t.append("<div id='"+e+"' src='"+l+"' title='"+h+"' class='"+o+" window_icon_button no-draggable' style='"+c+"'><\/div>");r=t.children("[id="+e+"]");r.get(0).clickCb=a;n.isFunction(a)&&r.click(function(){this.clickCb(n(this),b)})}else r=n(i).clone(!0),r.addClass("window_icon_button no-draggable cust_button"),t.append(r),r.show();lt+=s}}function yi(r,u){bt=!0;it=ht(i,ui);r?(c.css(it),bt=!1,n.isFunction(u)&&u()):c.animate(it,t.animationSpeed,"swing",function(){bt=!1;n.isFunction(u)&&u()})}function ct(){a.children("div.window_title_text").width(a.width()-lt-fi)}function oi(){var n=c.width(),t=c.height(),i=pi(t);k.width(n);k.height(i)}function vr(t,i){n.browser.mozilla&&window.sidebar?window.sidebar.addPanel(t,i,""):getIEVersion()>-1&&window.external?window.external.AddFavorite(i,t):h.indexOf("chrome")>=0?alert("Sorry! Chrome doesn't support bookmark function currently."):n.browser.safari||h.indexOf("safari")>=0?alert("Sorry! Safari doesn't support bookmark function currently."):(n.browser.opera||h.indexOf("opera")>=0)&&alert("Sorry! Opera doesn't support bookmark function currently.")}function yt(){var n=k.css("backgroundColor");n!=null&&n!="transparent"&&n!="rgba(0, 0, 0, 0)"&&c.css("backgroundColor",n);k.hide();u.showFooter&&ft.hide();c.css("opacity",l)}function gt(){k.show();u.showFooter&&ft.show();c.css("opacity",1)}function pi(n){var t=u.showFooter?16:0;return n-20-t-4}function si(){var i,o,e,r,f,n;if(t.dock!="top"&&t.dock!="bottom"){for(i=a.children("div.window_title_text"),o=a.children(".window_title_icon"),o.is(":visible")?i.addClass("window_title_text_vertical_with_icon"):i.addClass("window_title_text_vertical"),e=u.title,r="",f=0;f<e.length;f++)n=e.charAt(f),(n=="-"||n=="_")&&(n="|"),n==" "?(n="<div style='height:5px; line-height:5px;'>&nbsp;<\/div>",r+=n):r+=n+"<br>";i.html(r)}}function yr(){var n=a.children("div.window_title_text");n.removeClass("window_title_text_vertical");n.removeClass("window_title_text_vertical_with_icon");n.text(u.title)}function pr(){return i}function wr(){return c}function br(){return a}function kr(){return k}function dr(){return ft}function gr(){return it}function wi(){var n=0,t=0,f,s,h;i!=null?(f=r(i),n=f.left+(i.width()-c.width())/2,t=f.top+(i.height()-c.height())/2):(s=o(),h=e(),n=s.left+(h.width-c.width())/2,t=s.top+(h.height-c.height())/2);u.createRandomOffset.x>0&&(n+=(Math.random()-.5)*u.createRandomOffset.x);u.createRandomOffset.y>0&&(t+=(Math.random()-.5)*u.createRandomOffset.y);c.css({left:n,top:t})}function bi(){var n=0,t,u;i!=null?n=r(i).left+(i.width()-c.width())/2:(t=o(),u=e(),n=t.left+(u.width-c.width())/2);c.css({left:n})}function ki(){var n=0,t,u;i!=null?n=r(i).top+(i.height()-c.height())/2:(t=o(),u=e(),n=t.top+(u.height-c.height())/2);c.css({top:n})}function nu(){ti=!0;tt==!1&&(c.css("z-index",u.z+2),u.selectedHeaderClass&&a.addClass(u.selectedHeaderClass));n.isFunction(u.onSelect)&&u.onSelect()}function tu(){ti=!1;tt==!1&&(c.css("z-index",u.z),u.selectedHeaderClass&&a.removeClass(u.selectedHeaderClass));n.isFunction(u.onUnselect)&&u.onUnselect()}function iu(n,t,i){var r,u;tt||ut||(r={},typeof n=="number"&&(i&&(u=c.offset(),n+=u.left),r.left=n),typeof t=="number"&&(r.top=t,i&&(u=c.offset(),t+=u.top),r.top=t),c.css(r))}function ru(n,t){if(!tt&&!ut){var i={};n>0&&(i.width=n);t>0&&(i.height=t);c.css(i);ct()}}function hi(f,s){var h,l,y;if(getIEVersion()===-1&&i==null&&p(),tt=!0,c.draggable("disable"),c.resizable("disable"),s!=!0&&(ii.left=c.css("left"),ii.top=c.css("top"),at.w=c.width(),at.h=c.height()),c.addClass("no-resizable"),h=o(),l=e(),i!=null?(y=r(i),it={left:y.left,top:y.top,width:i.width(),height:i.height(),opacity:1}):it={left:h.left,top:h.top,width:l.width,height:l.height,opacity:1},f?(c.css(it),ct(),oi(),a.removeClass("window_header_normal"),a.addClass("window_header_maximize"),v.children(".maximizeImg").hide(),v.children(".cascadeImg").show()):(yt(),c.animate(it,t.animationSpeed,"swing",function(){getIEVersion()>-1&&i==null&&p();gt();ct();oi();a.removeClass("window_header_normal");a.addClass("window_header_maximize");v.children(".maximizeImg").hide();v.children(".cascadeImg").show();n.isFunction(u.afterMaximize)&&u.afterMaximize(b)}),c.css("z-index",u.z+3)),n.isFunction(u.onMaximize))u.onMaximize(b)}function di(){if(dt(!0),w(),ut=!0,c.draggable("disable"),c.resizable("disable"),ri.left=c.css("left"),ri.top=c.css("top"),vt.w=c.width(),vt.h=c.height(),ui=g(i),it={opacity:l},c.addClass("no-resizable"),i==null&&t.dockArea==null&&cr(),v.hide(),yt(),nt(i,!0),yi(!1,function(){c.css("z-index",u.z);a.children("div.window_title_text").width("96%");a.attr("title",u.title);a.removeClass("window_header_normal");a.removeClass("window_header_maximize");a.addClass("window_header_minimize");(t.dock=="left"||t.dock=="right")&&a.addClass("window_header_minimize_vertical");u.showRoundCorner&&(a.removeClass("ui-corner-top"),a.addClass("ui-corner-all"));si();a.click(function(){bt||ni()});n.isFunction(u.afterMinimize)&&u.afterMinimize(b)}),c.mouseover(function(){n(this).css("opacity",1)}),c.mouseout(function(){n(this).css("opacity",l)}),n.isFunction(u.onMinimize))u.onMinimize(b);ot(i,b)}function ni(){var h;u.showModal&&kt();var f=null,e=null,s=u.z+2;if(ut?(f=ri,e=vt,i==null&&lr(),yr(),a.removeAttr("title"),a.removeClass("window_header_minimize"),a.removeClass("window_header_minimize_vertical"),tt?(a.addClass("window_header_maximize"),i!=null?f=r(i):(h=o(),f={left:h.left,top:h.top}),s=u.z+3,c.css("z-index",s)):(a.addClass("window_header_normal"),c.removeClass("no-resizable"))):tt&&(tt=!1,f=ii,e=at,a.removeClass("window_header_maximize"),a.addClass("window_header_normal"),c.removeClass("no-resizable")),u.showRoundCorner&&(a.removeClass("ui-corner-all"),a.addClass("ui-corner-top")),c.unbind("mouseover"),c.unbind("mouseout"),it={left:f.left,top:f.top,width:e.w,height:e.h,opacity:1},yt(),c.animate(it,t.animationSpeed,"swing",function(){c.css("z-index",s);gt();a.unbind("click");ct();oi();tt?(i==null&&p(),v.children(".maximizeImg").hide(),v.children(".cascadeImg").show()):(w(),c.draggable("enable"),c.resizable("enable"),v.children(".maximizeImg").show(),v.children(".cascadeImg").hide());v.show();ut&&(ut=!1,st(i,b),nt(i,!1),y(i));n.isFunction(u.afterCascade)&&u.afterCascade(b)}),n.isFunction(u.onCascade))u.onCascade(b)}function gi(t){if(!t&&n.isFunction(u.onClose))u.onClose(b);uu()}function uu(){wt=!1;tt&&w();et(b);c.remove();dt(!0)}function fu(){c.show()}function eu(){c.hide()}function ou(){ui--}var b=null,pt="window_"+rt++,ut=!1,tt=!1,ti=!1,wt=!1,ii={},at={},ri={},vt={},it={},v=null,lt=0,ui=-1,bt=!1,fi=0,c=null,a=null,k=null,ft=null,u=n.extend({icon:"auto",title:"",url:"",content:"",footerContent:"",containerClass:"",headerClass:"",frameClass:"",footerClass:"",selectedHeaderClass:"",x:-1,y:-1,z:2e3,width:400,height:300,minWidth:200,minHeight:150,maxWidth:800,maxHeight:600,showModal:!1,modalOpacity:.5,showFooter:!0,showRoundCorner:!1,closable:!0,minimizable:!0,maximizable:!0,bookmarkable:!0,draggable:!0,resizable:!0,scrollable:!0,checkBoundary:!1,withinBrowserWindow:!1,custBtns:null,onOpen:null,onShow:null,onClose:null,onSelect:null,onUnselect:null,onDrag:null,afterDrag:null,onResize:null,afterResize:null,onMinimize:null,afterMinimize:null,onMaximize:null,afterMaximize:null,onCascade:null,afterCascade:null,onIframeStart:null,onIframeEnd:null,iframeRedirectCheckMsg:null,createRandomOffset:{x:0,y:0}},u);return{initialize:nr,getTargetCssStyle:gr,getWindowId:function(){return pt},getCaller:pr,getContainer:wr,getHeader:br,getFrame:kr,getFooter:dr,alignCenter:wi,alignHorizontalCenter:bi,alignVerticalCenter:ki,select:nu,unselect:tu,move:iu,resize:ru,maximize:hi,minimize:di,restore:ni,close:gi,hide:eu,show:fu,setTitle:ur,setUrl:er,setContent:ai,setFooterContent:vi,getTitle:fr,getUrl:or,getContent:sr,getFooterContent:hr,isMaximized:function(){return tt},isMinimized:function(){return ut},isSelected:function(){return ti},setIcon:ci,showIcon:rr,hideIcon:ei,_decreaseMiniIndex:ou,_adjustMinimizedPos:yi,_setOrgWH:function(n){vt.w=n.width;vt.h=n.height},_transformTitleText:si,toString:function(){return"[Window] id="+pt+", title="+u.title}}}var tt="5.03",s=20,l=.7,b=120,it=200,h=navigator.userAgent.toLowerCase(),rt=0,c=null,i=[],k=!1,a=null,v=[],u={long:b,storage:[]},t={dock:"left",dockArea:null,animationSpeed:400,minWinNarrow:24,minWinLong:b,handleScrollbar:!0,showLog:!1};return{getInstance:function(r,u){var f=lt(r,u);return f.initialize(f),d(r,f),ft(f),r!=null&&(r.get(0)._minWinData==null&&(r.get(0)._minWinData={long:t.minWinLong,storage:[]}),v.push(r)),k||(n(window).resize(function(){a!=null&&clearTimeout(a);a=window.setTimeout(function(){for(var n,r=e(),t=0,u=i.length;t<u;t++)n=i[t],n.isMaximized()&&(n.isMinimized()?n._setOrgWH(r):n.maximize(!0,!0)),n.isMinimized()&&n._adjustMinimizedPos(!0)},it)}),k=!0),f},getVersion:function(){return tt},prepare:function(i){if(n.extend(t,i),u.long=t.minWinLong,t.dockArea!=null){var r=n(t.dockArea);r.get(0)._minWinData==null&&(r.get(0)._minWinData={long:t.minWinLong,storage:[]})}},closeAll:function(n){for(var e,f,o=i.length,r=0;r<o;r++)e=i[0],e.close(n);for(i=[],u.storage=[],u.long=t.minWinLong,r=0;r<v.length;r++)f=v[r].get(0)._minWinData,f.storage=[],f.long=t.minWinLong},hideAll:function(){for(var n=0,t=i.length;n<t;n++)i[n].getContainer().hide()},showAll:function(){for(var n=0,t=i.length;n<t;n++)i[n].getContainer().show()},getAll:function(){return i},getWindow:ut,getSelectedWindow:function(){for(var t,n=0,r=i.length;n<r;n++)if(t=i[n],t.isSelected())return t},_iconOnLoad:function(t){var i=n(t).parent().parent().attr("id"),r;f("_iconOnLoad: "+i);i!=null?(r=n.Window.getWindow(i),r!=null&&r.showIcon()):ct("[_iconOnLoad] lost window id!!!")}}}();n.window.getVersion=n.Window.getVersion;n.window.prepare=n.Window.prepare;n.window.closeAll=n.Window.closeAll;n.window.hideAll=n.Window.hideAll;n.window.showAll=n.Window.showAll;n.window.getAll=n.Window.getAll;n.window.getWindow=n.Window.getWindow;n.window.getSelectedWindow=n.Window.getSelectedWindow})(jQuery);
